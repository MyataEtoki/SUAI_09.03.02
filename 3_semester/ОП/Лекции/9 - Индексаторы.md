[[3 - Свойства класса и Индексаторы]]
# Индексаторы
Отдельные свойства или поля в классе могут быть описаны как массивы.

Класс персонал - описание штата всех сотрудников.
Свойство, которое массив, можно представить через индексацию.

```C#
class Сотрудник{
public int ТабН{get;}
public string ФИО {get;}
}
public Сотрудник (int n, string name)
{this.ТабН=n, this.ФИО=name;}

class Персонал {
public string NameCompany;
Сотрудник [] persona{get; set;}
public Персонал(Сотрудник[]p)=>this.personal=p;
// разрабатываем индексатор:
public Сотрудник this[int index]
// this - указываем на конкретный объект, фиксируем индекс
{get => persona[index]; set=>persona[index]=value;}
}

var Штат = new Персонал(new[]{new Сотрудник("Иванов"), new Сотрудник("Сидоров")});
t1Text=Штат[0].ТабН;
t2Text = Штат[0].ФИО;
=> this.personal = p;
```

Можем задать объект с типом сотрудник, потом обращаемся к штат, но к конкретному элементу свойства персона.
Объект класса Персонал - один эл-т массив данных, можно обратиться конкретно к эл-ту массива, через индексацию - `Штат[0] = Сидоров.`
Чтобы обращаться к полю не по его названию, а по индексу - сокращаем запись.
Такое поле в виде массива д.б. заявлено как свойство.

# Кратко:
Обеспечивают поддержку индексируемых свойств, на которые удобно ссылаться с помощью одного или нескольких индексов. 
Могут быть sealed, virtual, abstract.
М.б. с разной областью видимости, и т.д. как у свойств. Может отсутствовать get/set.
М.б. перегруженные

Нужны, чтобы:
1. Моделировать упорядоченный набор данных
2. Возможна загрузка данных с регулируемым объёмом
3. Могут иметь методы проверки границ массива
4. Моделируют словари и карты(ключ, значение)

# Пример
```C#
class Сотрудник{
public int Num;
public string Fio;
public Сотрудник(nt id, string n){
Num = id;
Fio = n;
}
}

class Персонал{
List<Сотрудник>? personal {get;set}
public Персонал(List<Сотруднк>p) => personal = p;
// индексатор 1
public Сотрудник? this[int index]{
get => personal[index];
set => personal[index] = value;
}
// индексатор 2
public Сотрудник? this[string name] { // прикол в this
get {Сотрудник? сотр = null, foreach(var p in personal)
if(p.Fio == name) {
сотрудник = p; 
break;
}
return Emp;}
}
}
var штат = new Персонал(new List<Сотрудник> {new Сотрудник(10, "Иванов"), new Сотрудник(41, "Петров")});
richTextBox.Text = штат[0].Fio + "\n" + штат["Иванов"].Num + "\n" + штат[1].Fio + "\n" + штат["Петров"].Fio;
```
Можно менять индексацию, чтобы искать не по индексу, а, допустим, по табельному номеру - это в `this[...]`
